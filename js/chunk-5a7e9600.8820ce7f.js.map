{"version":3,"sources":["webpack:///./src/pages/todoList/todoList.vue","webpack:///./src/pages/todoList/addTask.vue","webpack:///./src/pages/todoList/config.js","webpack:///./src/pages/todoList/addTask.vue?3894","webpack:///./src/pages/todoList/taskList.vue","webpack:///./src/pages/todoList/taskListItem.vue","webpack:///./src/pages/todoList/taskEdit.vue","webpack:///./src/pages/todoList/taskEdit.vue?f239","webpack:///./src/pages/todoList/taskListItem.vue?1e3f","webpack:///./src/pages/todoList/taskList.vue?9c3a","webpack:///./src/pages/todoList/todoList.vue?37c1","webpack:///./src/pages/todoList/taskList.vue?55ca","webpack:///./src/pages/todoList/taskListItem.vue?2641","webpack:///./src/pages/todoList/addTask.vue?44b4","webpack:///./src/pages/todoList/todoList.vue?75c4","webpack:///./src/pages/todoList/taskEdit.vue?68d5"],"names":["class","title","leftBoxSwitch","type","accept","upfile","$event","exportLocal","emptyAllTaskList","addTask","taskListNum","taskListData","deletedTaskHome","changeState","typeList","item","taskType","id","key","text","isCLickActive","num","oldaign","size","getStarsnum","stateList","stateVal","icon","placeholder","addTaskFn","matterTitle","matterContent","emptyInput","openNoteFn","name","STATE_CH","eleNumber","numColor","fontSize","numSpeed","STATE","NOT_STARTED","CONDUCT","COMPLETE","TASK_TYPE","work","personal","props","Array","setup","ctx","route","proxy","data","params","val","content","substring","immediate","newval","matterObj","matter_id","Date","now","toString","matter_date","toLocaleString","matter_title","matter_content","matter_grade","matter_label","matter_state","emit","h_tips","msg","top","time","$bus","__exports__","list","listIndex","openAllFn","openAll","taskData","resetOneOpen","deletedTaskList","myIsOpenChange","color","readOnly","openEditBox","editTack","deletedTask","matter_edit_date","myIsOpen","closePortability","openPortability","zIndex","prohibitTips","confirmEditing","isChange","Object","myEditTack","originalStr","JSON","stringify","editStr","deep","getMyEditTack","bool","Boolean","default","components","taskEdit","task","h_confirm","style","box","bgColor","width","padding","borderRadius","conColor","then","console","log","current","target","taskListItem","initOpenState","index","currentStateOpen","currentStateNum","length","resetTaskList","forEach","allOpen","taskList","exportLocalTips","obj","push","on","editTask","getAllTaskData","state","unshift","targetArr","splice","targetObj","targetState","editList","e","resultFile","files","reader","FileReader","readAsText","onload","fileContent","result","addTaskFiles","idList","arr","split","includes","shift","taskItem","parse","append","allStr","export_blob","Blob","save_link","document","createElement","href","window","URL","createObjectURL","download","fakeClick","ev","createEvent","initMouseEvent","dispatchEvent","render"],"mappings":"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","file":"js/chunk-5a7e9600.8820ce7f.js","sourcesContent":["<template>\n  <div class=\"todolist-page\">\n    <!-- 左边部分收缩按键 -->\n    <p\n      title=\"收起\"\n      class=\"iconfont icon-xiangzuoshouqi\"\n      :class=\"{ leftBoxSwitch }\"\n      @click=\"leftBoxSwitch = !leftBoxSwitch\"\n    ></p>\n    <!-- 左侧大盒子 -->\n    <div class=\"todolist-box-l\" :class=\"{ leftBoxSwitch }\">\n      <div class=\"todolist-add-box\">\n        <!-- 右上角功能盒子 -->\n        <div class=\"func-box\">\n          <div class=\"func-btn\">\n            <p class=\"ipt_zzc_b\">导入</p>\n            <input\n              class=\"downloade_export_ipt\"\n              title=\"添加新导入事项，不影响已经存在的事项\"\n              type=\"file\"\n              accept=\".txt\"\n              @change=\"upfile($event)\"\n            />\n          </div>\n          <p class=\"func-btn out\" @click=\"exportLocal\">导出</p>\n          <p class=\"func-btn empty-all\" @click=\"emptyAllTaskList\">清空</p>\n        </div>\n        <!-- 左侧添加任务盒子 -->\n        <div class=\"add-box\">\n          <addTask @addTask=\"addTask\" :taskListNum=\"taskListNum\"></addTask>\n        </div>\n      </div>\n    </div>\n    <!-- 右侧大盒子 -->\n    <div class=\"todolist-box-R\" :class=\"{ leftBoxSwitch }\">\n      <taskList\n        :taskListData=\"taskListData\"\n        @deletedTaskHome=\"deletedTaskHome\"\n        @changeState=\"changeState\"\n      ></taskList>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  reactive,\n  toRefs,\n  onBeforeMount,\n  onMounted,\n  getCurrentInstance,\n  watch\n} from 'vue';\nimport { getLS, setLS, removeLS } from '@/utils/common.js';\nimport addTask from './addTask.vue';\nimport taskList from './taskList.vue';\nimport { STATE } from './config.js';\nexport default {\n  name: '',\n  components: {\n    addTask,\n    taskList\n  },\n  setup() {\n    const { proxy } = getCurrentInstance();\n    const data = reactive({\n      taskListNum: [], //任务队列数量\n      leftBoxSwitch: false, //控制左侧显示隐藏\n      taskListData: {}, //保存本地全部任务数据\n      exportLocalTips: '请勿编辑文件TaskList，避免导入错误，'\n    });\n    watch(\n      // 监听任务列表状态\n      () => data.taskListData,\n      (val) => {\n        data.taskListNum = [];\n        for (let key in val) {\n          const obj = { name: key, num: val[key].length };\n          data.taskListNum.push(obj);\n        }\n      },\n      { deep: true }\n    );\n    onBeforeMount(() => {});\n    onMounted(() => {\n      // 使用mitt监听编辑事件\n      proxy.$bus.on('editTask', editTask);\n    });\n    // 获取全部本地数据\n    const getAllTaskData = () => {\n      for (let key in STATE) {\n        data.taskListData[STATE[key]] = getLS(STATE[key]);\n      }\n      // console.log(data.taskListData);\n    };\n\n    getAllTaskData();\n    // 获取增加的任务信息\n    const addTask = (task) => {\n      // 判断数据属性是否正确\n      if (\n        task &&\n        task.matter_state &&\n        task.matter_id &&\n        task.matter_date &&\n        task.matter_title &&\n        task.matter_grade &&\n        task.matter_label\n      ) {\n        const state = task.matter_state; //增加任务的状态\n        data.taskListData[state].unshift(task); //增加对应状态的数据\n        setLS(state, data.taskListData[state]); //再把对应更新状态的数据全部保存至本地\n      } else {\n        console.log('数据格式不正确');\n      }\n    };\n    // 子组件触发的删除操作\n    const deletedTaskHome = (task) => {\n      const state = task.matter_state; //增加任务的状态\n      const targetArr = data.taskListData[state]; //要操作的任务数组\n      targetArr.forEach((item, index) => {\n        //删除指定id任务\n        if (item.matter_id === task.matter_id) {\n          targetArr.splice(index, 1);\n        }\n      });\n      setLS(state, data.taskListData[state]); //再把对应更新状态的数据全部保存至本地\n    };\n    // 改变任务状态\n    const changeState = (val) => {\n      const targetObj = val[0]; //操作对象\n      const targetState = val[1]; //目标状态\n      deletedTaskHome(targetObj); //先从原来状态数组中删除\n      targetObj.matter_state = targetState; //改变操作对象的状态\n      addTask(targetObj); //在添加到目标状态数组\n    };\n\n    // 清空全部任务列表\n    const emptyAllTaskList = () => {\n      proxy\n        .h_confirm({\n          title: '提示',\n          content: '确认删除全部任务 ？',\n          style: {\n            box: {\n              top: 300,\n              bgColor: '#fff',\n              width: 360,\n              padding: 10,\n              borderRadius: 4\n            },\n            content: {\n              conColor: 'red'\n            }\n          }\n        })\n        .then(() => {\n          // 循环清除本地任务列表\n          for (let key in STATE) {\n            removeLS(STATE[key]);\n          }\n          //清除后从新获取数据\n          getAllTaskData();\n        });\n    };\n    // 编辑事件触发\n    const editTask = (val) => {\n      // 获取编辑的状态数组\n      const editList = data.taskListData[val.matter_state];\n      // 遍历数组通过matter_id找到编辑元素的下标\n      editList.forEach((item, index) => {\n        if (item.matter_id === val.matter_id) {\n          // 替换当前元素\n          editList.splice(index, 1, val);\n        }\n      });\n      setLS(val.matter_state, editList); //再把对应更新状态的数据全部保存至本地\n    };\n\n    // 选择txt读取内容\n    const upfile = (e) => {\n      let resultFile = e.target.files[0]; //获取文件1信息\n      // 如果文件存在\n      if (resultFile) {\n        // 使用 FileReader 来读取文件\n        let reader = new FileReader();\n        // 读取纯文本文件,且编码格式为 utf-8\n        reader.readAsText(resultFile, 'UTF-8');\n        // 读取文件,会触发 onload 异步事件,可使用回调函数 来获取最终的值.\n        reader.onload = (e) => {\n          let fileContent = e.target.result; //文件文本内容\n          addTaskFiles(fileContent); //增加新任务\n        };\n      }\n    };\n    // 选择文件\n    const addTaskFiles = (fileContent) => {\n      let idList = []; //保存原有数据所有id\n      for (let key in data.taskListData) {\n        data.taskListData[key].forEach((task) => {\n          idList.push(task.matter_id);\n        });\n      }\n\n      //分割换行 转为数组\n      const arr = fileContent.split(/[(\\r\\n)\\r\\n]+/);\n      console.log(arr);\n      if (!arr[0].includes(data.exportLocalTips)) {\n        console.log('文件格式不正确');\n        return;\n      }\n      if (arr.length === 4) {\n        arr.shift(); //删除数组第一个日期\n        arr.forEach((item) => {\n          let taskItem = JSON.parse(item);\n          // 数组有长度就追加\n          if (taskItem.length) {\n            // 循环数组判断是否存在的id\n            taskItem.forEach((append) => {\n              if (idList.length) {\n                // 源数据id中是否包含要追加的id\n                if (idList.includes(append.matter_id)) return;\n                // 增加任务\n                addTask(append);\n              } else {\n                // 没有原始数据就直接追加\n                addTask(append);\n              }\n            });\n          }\n        });\n      } else {\n        console.log('文件格式不正确');\n      }\n    };\n\n    // 导出全部任务\n    const exportLocal = () => {\n      // 导出文件内部title标识\n      const title =\n        data.exportLocalTips +\n        '导出TodoList时间：' +\n        new Date().toLocaleString();\n      let allStr = title;\n      // 循环拼接所有任务列表数据\n      for (let key in STATE) {\n        allStr += '\\r\\n' + JSON.stringify(getLS(STATE[key]));\n      }\n      //下载内容，标题加本地数据字符串\n      const export_blob = new Blob([allStr]);\n      //创建a标签点击可下载\n      const save_link = document.createElement('a');\n      save_link.href = window.URL.createObjectURL(export_blob);\n      //下载时文件名\n      save_link.download = 'TodoList.txt';\n      fakeClick(save_link);\n    };\n\n    // txt文件导出\n    const fakeClick = (obj) => {\n      const ev = document.createEvent('MouseEvents');\n      ev.initMouseEvent(\n        'click',\n        true,\n        false,\n        window,\n        0,\n        0,\n        0,\n        0,\n        0,\n        false,\n        false,\n        false,\n        false,\n        0,\n        null\n      );\n      obj.dispatchEvent(ev);\n    };\n    return {\n      upfile,\n      exportLocal,\n      editTask,\n      addTask,\n      getAllTaskData,\n      deletedTaskHome,\n      changeState,\n      emptyAllTaskList,\n      ...toRefs(data)\n    };\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.todolist-page {\n  min-width: 1900px;\n  height: 100%;\n  position: relative;\n  .icon-xiangzuoshouqi {\n    position: fixed;\n    width: 30px;\n    height: 30px;\n    text-align: center;\n    line-height: 30px;\n    border-radius: 15px;\n    background: rgba(0, 0, 0, 0.2);\n    color: #fff;\n    top: 50px;\n    left: 5px;\n    z-index: 777;\n    transition: 0.3s;\n    &.leftBoxSwitch {\n      transform: rotateY(180deg);\n    }\n    &:hover {\n      cursor: pointer;\n      background: rgba(0, 0, 0, 0.7);\n    }\n  }\n  .todolist-box-l {\n    position: absolute;\n    width: 500px;\n    height: 100%;\n    padding: 20px;\n    box-sizing: border-box;\n    transition: 0.3s;\n    z-index: 6;\n    &.leftBoxSwitch {\n      // width: 0;\n      opacity: 0;\n      overflow: hidden;\n    }\n    .todolist-add-box {\n      position: relative;\n      height: 100%;\n      border-radius: 4px;\n      .func-box {\n        position: absolute;\n        width: 100%;\n        height: 50px;\n        padding: 10px 20px;\n        box-sizing: border-box;\n        background: #ffffff;\n        border: 1px solid #efefef;\n        box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.06);\n        z-index: 666;\n        border-radius: 4px;\n        .func-btn {\n          position: relative;\n          float: left;\n          width: 50px;\n          padding: 0 15px;\n          height: 30px;\n          border-radius: 4px;\n          text-align: center;\n          color: #fff;\n          font-size: 14px;\n          line-height: 30px;\n          margin-right: 20px;\n          transition: 0.1s;\n          .ipt_zzc_b {\n            line-height: 30px;\n            position: absolute;\n            width: 100%;\n            background: @TC_B;\n            text-align: center;\n            top: 0;\n            left: 0;\n            font-size: 14px;\n            border-radius: 5px;\n          }\n          .downloade_export_ipt {\n            cursor: pointer;\n            position: absolute;\n            top: 0;\n            left: 0;\n            opacity: 0;\n            width: 100%;\n            height: 30px;\n          }\n          &.out {\n            background: green;\n          }\n          &.empty-all {\n            background: @ZC;\n            &:hover {\n              background: red;\n            }\n          }\n          &:hover {\n            cursor: pointer;\n            opacity: 0.8;\n          }\n        }\n      }\n      .add-box {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        padding-top: 60px;\n        box-sizing: border-box;\n      }\n    }\n  }\n  .todolist-box-R {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    padding: 20px 20px 20px 500px;\n    box-sizing: border-box;\n    transition: 0.3s;\n    &.leftBoxSwitch {\n      padding: 20px;\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"add-task-page\">\n    <div class=\"add-task-box\">\n      <!-- 性质 -->\n      <div class=\"addtask-set-item-box\">\n        <p class=\"set-title\">性质：</p>\n        <p\n          class=\"set-choice\"\n          v-for=\"item in typeList\"\n          :key=\"item.id\"\n          :class=\"{ select: taskType === item.id }\"\n          @click=\"taskType = item.id\"\n        >\n          {{ item.text }}\n        </p>\n      </div>\n      <!-- 等级 -->\n      <div class=\"addtask-set-item-box\">\n        <p class=\"set-title\">等级：</p>\n        <div class=\"stars-box\">\n          <Stars\n            class=\"stars\"\n            :isCLickActive=\"true\"\n            :num=\"oldaign\"\n            :size=\"20\"\n            @getStarsnum=\"getStarsnum\"\n          ></Stars>\n        </div>\n      </div>\n      <!-- 状态 -->\n      <div class=\"addtask-set-item-box\">\n        <p class=\"set-title\">状态：</p>\n        <span\n          v-for=\"item in stateList\"\n          class=\"state iconfont\"\n          :class=\"[item.id, { select: stateVal === item.id }]\"\n          :key=\"item.id\"\n          @click=\"stateVal = item.id\"\n          >{{ item.icon }} {{ item.text }}</span\n        >\n      </div>\n      <!-- 信息输入部分 -->\n      <div class=\"addtask-set-item-box\">\n        <input\n          type=\"text\"\n          placeholder=\"任务标题\"\n          class=\"todo-input\"\n          @keyup.enter=\"addTaskFn\"\n          v-model.trim=\"matterTitle\"\n        />\n\n        <textarea\n          v-model.trim=\"matterContent\"\n          class=\"my-note\"\n          placeholder=\"任务描述\"\n        ></textarea>\n      </div>\n      <div class=\"addtask-set-item-box\">\n        <p class=\"empty-input-btn\" @click=\"emptyInput\">清除输入</p>\n        <p class=\"add-task-btn\" @click=\"addTaskFn\">添加任务</p>\n        <p\n          class=\"add-note-btn\"\n          title=\"选择笔记内容添加至任务管理\"\n          @click=\"openNoteFn\"\n        >\n          添加笔记\n        </p>\n      </div>\n    </div>\n    <!-- 统计数据展示 -->\n    <div class=\"statistics-box\">\n      <div class=\"statistics\">\n        <!-- 任务统计 -->\n        <div class=\"count-box\">\n          <!-- 循环数量统计，key=\"item.num+item.name\"数量改变   key=\"item\"任何改变都从新渲染 -->\n          <div\n            class=\"count-box-item\"\n            v-for=\"item in taskListNum\"\n            :key=\"item.num + item.name\"\n          >\n            <p class=\"count-title\">{{ STATE_CH[item.name] }}</p>\n            <div class=\"count-num\">\n              <h-numAnimation\n                :eleNumber=\"item.num\"\n                :numColor=\"'#000'\"\n                :fontSize=\"38\"\n                :numSpeed=\"50\"\n              />\n            </div>\n          </div>\n        </div>\n        <div class=\"swh-swh\">\n          <div class=\"swh-a\">待开发</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  reactive,\n  toRefs,\n  onBeforeMount,\n  onMounted,\n  getCurrentInstance,\n  watch\n} from 'vue';\nimport { useRoute } from 'vue-router';\nimport { stateList, typeList, STATE_CH } from './config.js';\nexport default {\n  name: '',\n  props: {\n    taskListNum: {\n      type: Array\n    }\n  },\n  setup(props, ctx) {\n    const route = useRoute();\n    const { proxy } = getCurrentInstance();\n    const data = reactive({\n      STATE_CH,\n      stateList, //状态数据\n      typeList, //性质数据\n      taskType: 'work', //任务性质\n      oldaign: 1, //等级\n      stateVal: 'notStarted', //状态 ,默认未开始\n      matterTitle: '', //任务标题\n      matterContent: '' //任务内容\n    });\n    watch(\n      // 监听路由参数\n      () => route.params,\n      (val) => {\n        if (val.content) {\n          // 改变任务内容\n          data.matterTitle = val.content.substring(0, 15);\n          data.matterContent = val.content;\n        }\n      },\n      { immediate: true } //立即执行一次\n      // { deep: true }   深度监听\n    );\n    onBeforeMount(() => {});\n    onMounted(() => {});\n    // 获取等级\n    const getStarsnum = (newval) => {\n      data.oldaign = newval;\n    };\n    // 添加任务\n    const addTaskFn = () => {\n      if (data.matterTitle) {\n        const matterObj = {\n          //创建新的数据对象\n          matter_id: Date.now().toString(16), //唯一id\n          matter_date: new Date().toLocaleString(),\n          matter_title: data.matterTitle, //标题\n          matter_content: data.matterContent, //内容\n          matter_grade: data.oldaign, //优先级\n          matter_label: data.taskType, //标签\n          matter_state: data.stateVal //状态\n        };\n        // console.log(matterObj);\n        ctx.emit('addTask', matterObj); //增加任务\n        emptyInput();\n      } else {\n        proxy.h_tips({\n          type: 'error',\n          msg: ' 请输入任务标题',\n          top: 30,\n          time: 2000\n        });\n      }\n    };\n    // 清空任务\n    const emptyInput = () => {\n      // 清空输入内容和标题\n      data.matterContent = '';\n      data.matterTitle = '';\n    };\n    // 打开笔记\n    const openNoteFn = () => {\n      // 触发home.vue中的事件\n      proxy.$bus.emit('openNote');\n    };\n    return {\n      emptyInput,\n      openNoteFn,\n      addTaskFn,\n      getStarsnum,\n      ...toRefs(data)\n    };\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.add-task-page {\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  // background: #ffffff;\n  // border: 1px solid #efefef;\n  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.06);\n  border-radius: 4px;\n  position: relative;\n  .statistics-box {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    box-sizing: border-box;\n    padding-top: 426px;\n    .statistics {\n      position: relative;\n      background: @BG;\n      width: 100%;\n      height: 100%;\n      padding-top: 10px;\n      box-sizing: border-box;\n      .count-box {\n        position: relative;\n        background: #fff;\n        border-radius: 4px;\n        width: 100%;\n        height: 100px;\n        z-index: 1;\n        .count-box-item {\n          float: left;\n          width: 30%;\n          height: 100%;\n          margin: 0 1.5%;\n          .count-title {\n            text-align: center;\n            margin-top: 15px;\n            line-height: 30px;\n          }\n          .count-num {\n            text-align: center;\n          }\n        }\n      }\n      .swh-swh {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        padding-top: 120px;\n        box-sizing: border-box;\n        .swh-a {\n          width: 100%;\n          height: 100%;\n          background: #fff;\n          border-radius: 4px;\n        }\n      }\n    }\n  }\n  .add-task-box {\n    position: absolute;\n    background: #ffffff;\n    top: 0;\n    left: 0;\n    width: 100%;\n    padding: 20px;\n    box-sizing: border-box;\n    z-index: 1;\n    border-radius: 4px;\n    .addtask-set-item-box {\n      overflow: hidden;\n      .set-title {\n        float: left;\n        color: #333;\n        font-size: 14px;\n        line-height: 30px;\n      }\n      .set-choice {\n        font-size: 14px;\n        line-height: 30px;\n        float: left;\n        margin-left: 10px;\n        cursor: pointer;\n        &.select {\n          color: @TC_B;\n          font-weight: 700;\n        }\n      }\n      .stars-box {\n        float: left;\n        margin-left: 10px;\n      }\n\n      /* 状态 */\n      .state {\n        float: left;\n        cursor: pointer;\n        line-height: 32px;\n        margin: 0 10px;\n        font-size: 14px;\n        color: rgb(179, 179, 179);\n        transition: 0.3s;\n      }\n      .state:hover,\n      .state.select {\n        font-weight: 700;\n      }\n      /* 未开始 */\n      .notStarted:hover,\n      .notStarted.select {\n        color: #ff0000;\n      }\n      .conduct:hover,\n      .conduct.select {\n        color: #00bfff;\n      }\n      .complete:hover,\n      .complete.select {\n        color: #09ff00;\n      }\n      /* 输入框 */\n      .todo-input {\n        height: 40px;\n        outline: none;\n        border: 1px solid #eee;\n        padding: 0 10px;\n        border-radius: 5px;\n        box-sizing: border-box;\n        cursor: pointer;\n        width: 100%;\n        color: #000;\n        transition: 0.3s;\n        font-family: 'serif';\n        letter-spacing: 1px;\n        &::-webkit-input-placeholder {\n          font-size: 14px;\n          color: #c0c4cc;\n          font-family: 'serif';\n        }\n      }\n      .my-note {\n        margin-top: 10px;\n        height: 200px;\n        resize: none;\n        border: 1px solid #eee;\n        outline: none;\n        padding: 10px;\n        box-sizing: border-box;\n        color: #000;\n        width: 100%;\n        background: #fff;\n        outline: none;\n        border-radius: 5px;\n        font-family: 'serif';\n        letter-spacing: 1px;\n        cursor: pointer;\n        &::-webkit-input-placeholder {\n          font-size: 14px;\n          color: #c0c4cc;\n          font-family: 'serif';\n        }\n        &::-webkit-scrollbar {\n          width: 3px;\n        }\n        /* 滚动槽 */\n        &::-webkit-scrollbar-track {\n          border-radius: 10px;\n          background: rgb(224, 224, 224);\n        }\n        /* 滚动条滑块 */\n        &::-webkit-scrollbar-thumb {\n          border-radius: 10px;\n          background: rgb(189, 189, 189);\n        }\n      }\n      .empty-input-btn,\n      .add-task-btn,\n      .add-note-btn {\n        float: right;\n        padding: 0 10px;\n        height: 30px;\n        background: @TC_B;\n        border-radius: 4px;\n        text-align: center;\n        color: #fff;\n        font-size: 14px;\n        margin-top: 10px;\n        line-height: 30px;\n        transition: 0.1s;\n        &:hover {\n          cursor: pointer;\n          opacity: 0.8;\n        }\n      }\n      .add-note-btn {\n        margin-right: 20px;\n        background: @ZC;\n      }\n      .empty-input-btn {\n        float: left;\n        background: @ZC;\n        &:hover {\n          background: red;\n        }\n      }\n    }\n  }\n}\n</style>\n","\nexport const STATE = {\n  NOT_STARTED: 'notStarted',\n  CONDUCT: 'conduct',\n  COMPLETE: 'complete'\n}\nexport const STATE_CH = {\n  [STATE.NOT_STARTED]: '未开始',\n  [STATE.CONDUCT]: '进行中',\n  [STATE.COMPLETE]: '已完成',\n}\n// 状态配置数据\nexport const stateList = [\n  { text: '未开始', id: 'notStarted', icon: '\\ue664' },\n  { text: '进行中', id: 'conduct', icon: '\\ue663' },\n  { text: '已完成', id: 'complete', icon: '\\ue666' }\n]\n// 性质常量\nexport const TASK_TYPE = {\n  work: '工作',\n  personal: '个人'\n}\n// 性质配置数据\nexport const typeList = [\n  { text: TASK_TYPE.work, id: 'work' },\n  { text: TASK_TYPE.personal, id: 'personal' },\n]\n","import { render } from \"./addTask.vue?vue&type=template&id=00331edc&scoped=true\"\nimport script from \"./addTask.vue?vue&type=script&lang=js\"\nexport * from \"./addTask.vue?vue&type=script&lang=js\"\n\nimport \"./addTask.vue?vue&type=style&index=0&id=00331edc&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\a2_swh\\\\ProjectSourceCode\\\\PersonalBlog\\\\personal-notes-vue3\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-00331edc\"]])\n\nexport default __exports__","<template>\n  <div class=\"todolist-content-box\">\n    <div\n      class=\"list-item\"\n      v-for=\"(list, listIndex) in taskListData\"\n      :key=\"listIndex\"\n    >\n      <!-- 每个列表顶部 -->\n      <div class=\"list-tips-box\">\n        <div class=\"list-tips\" :class=\"listIndex\"></div>\n        <div class=\"list-set\" @click=\"openAllFn(listIndex)\">\n          {{ openAll[listIndex][0] ? '全部收起' : '全部展开' }}\n        </div>\n      </div>\n      <!-- 列表盒子 -->\n      <div class=\"list-box\">\n        <div class=\"list-box-layout\">\n          <transition-group name=\"todo-group\">\n            <div\n              class=\"list-item-box\"\n              v-for=\"item in list\"\n              :key=\"item.matter_id\"\n            >\n              <task-list-item\n                :taskData=\"item\"\n                :openAll=\"openAll[listIndex][0]\"\n                :resetOneOpen=\"resetOneOpen\"\n                @deletedTaskList=\"deletedTaskList\"\n                @changeState=\"changeState\"\n                @myIsOpenChange=\"myIsOpenChange\"\n              ></task-list-item>\n            </div>\n          </transition-group>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs, onBeforeMount, onMounted } from 'vue';\nimport taskListItem from './taskListItem.vue';\nimport { STATE } from './config.js';\nexport default {\n  props: {\n    taskListData: {\n      type: Object\n    }\n  },\n  name: '',\n  components: {\n    taskListItem\n  },\n  setup(props, ctx) {\n    const data = reactive({\n      resetOneOpen: false, //改变单个为收起状态\n\n      openAll: {} //全部状态展开收起\n    });\n    onBeforeMount(() => {});\n    onMounted(() => {});\n    // 初始化openAll状态\n    const initOpenState = () => {\n      for (let key in STATE) {\n        // [全部状态 , 当前展开个数]\n        data.openAll[STATE[key]] = [false, 0];\n      }\n    };\n    // 初始化\n    initOpenState();\n    // 全部展开收起\n    // 1.切换全部状态取反\n    // 2.设置全部展开数量\n    const openAllFn = (index) => {\n      const currentStateOpen = data.openAll[index]; //当前对应状态的全部展开收起状态\n      const currentStateNum = data.openAll[index]; //保存单个展开状态的数量\n      currentStateOpen[0] = !currentStateOpen[0]; //全部状态取反切换\n      if (currentStateOpen[0]) {\n        //转开为true 就保存全部数量\n        currentStateNum[1] = props.taskListData[index].length;\n      } else {\n        //清空全部数量\n        currentStateNum[1] = 0;\n      }\n    };\n    // 接受子组件触，再发触发父组件\n    const deletedTaskList = (task) => {\n      ctx.emit('deletedTaskHome', task);\n    };\n    // 改变任务状态\n    const changeState = (val) => {\n      // 被移除的状态  ,被添加的状态\n      const resetTaskList = [val[0].matter_state, val[1]];\n      ctx.emit('changeState', val); //执行改变状态\n      // 循环重置状态变化的列表全部重置收起\n      // 被移除的状态列表全部收起，打开个数0\n      // 被移入的状态列表全部收起，打开个数0\n      resetTaskList.forEach((item) => {\n        data.openAll[item][0] = false;\n        data.openAll[item][1] = 0;\n      });\n      // 重置单独展开的所有元素\n      data.resetOneOpen = !data.resetOneOpen;\n    };\n    // 改变单个展开状态  val [状态列表,展开状态]\n    // 1.改变对应展开数量\n    // 2.根据展开数量，判断改变全部展开收起状态\n    const myIsOpenChange = (val) => {\n      const currentStateNum = data.openAll[val[0]]; //对应状态的展开数量\n      const allOpen = data.openAll[val[0]]; //状态对应全部状态\n      if (val[1]) {\n        //单个展开时true\n        currentStateNum[1]++; //展开数量++\n      } else {\n        //单个收起时false\n        currentStateNum[1]--; //展开数量--\n      }\n      // 当前展开数量等于数据列表长度，就切换全部展开状态\n      if (currentStateNum[1] === props.taskListData[val[0]].length) {\n        allOpen[0] = true;\n      }\n      // 当前展开数量0就，改为全部收起状态\n      if (currentStateNum[1] === 0) {\n        allOpen[0] = false;\n      }\n    };\n    return {\n      deletedTaskList,\n      myIsOpenChange,\n      changeState,\n      openAllFn,\n      ...toRefs(data)\n    };\n  }\n};\n</script>\n<style scoped lang=\"less\">\n@keyframes finger {\n  0% {\n    transform: translate(0px);\n    width: 12px;\n  }\n  25% {\n    transform: translate(120px);\n    width: 20px;\n  }\n  50% {\n    transform: translate(0px);\n    width: 12px;\n  }\n  75% {\n    transform: translate(120px);\n    width: 20px;\n  }\n  100% {\n    transform: translate(0px);\n    width: 12px;\n  }\n}\n// 列表过度动画开始\n.todo-group-enter-from,\n.todo-group-leave-to {\n  opacity: 0;\n  transform: translateX(-70px);\n}\n.todo-group-enter-active,\n.todo-group-leave-active {\n  transition: all 0.5s ease;\n}\n.todo-group-leave-active {\n  position: absolute;\n}\n.todo-group-move {\n  transition: all 0.5s ease;\n}\n// 列表过度动画结束\n.todolist-content-box {\n  height: 100%;\n  display: flex;\n  justify-content: space-between;\n  background: #ffffff;\n  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.06);\n  border-radius: 4px;\n  padding: 0 20px;\n  box-sizing: border-box;\n  .list-item {\n    position: relative;\n    width: 32.5%;\n    border-radius: 4px;\n    height: 100%;\n    float: left;\n\n    .list-tips-box {\n      position: absolute;\n      top: 0;\n      left: 0;\n      height: 20px;\n      padding: 3px;\n      width: 100%;\n      overflow: hidden;\n      background: #ffffff;\n      border: 1px solid #efefef;\n      box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.06);\n      box-sizing: border-box;\n      border-radius: 0 0 4px 4px;\n      .list-tips {\n        float: left;\n        width: 12px;\n        height: 12px;\n        border-radius: 7px;\n        // animation: finger infinite 5s;\n\n        &.notStarted {\n          background: #ff0000;\n          animation: finger infinite 5s;\n        }\n        &.conduct {\n          background: #00bfff;\n          animation: finger infinite 5s 0.5s;\n        }\n        &.complete {\n          background: #09ff00;\n          animation: finger infinite 5s 1s;\n        }\n      }\n      .list-set {\n        float: right;\n        font-size: 12px;\n        line-height: 12px;\n        cursor: pointer;\n        color: #999;\n        margin-right: 5px;\n      }\n    }\n    .list-box {\n      padding-top: 25px;\n      height: 100%;\n      box-sizing: border-box;\n\n      .list-box-layout {\n        height: 100%;\n        overflow: auto;\n\n        /* 设置滚动条的样式 */\n        &::-webkit-scrollbar {\n          width: 3px;\n        }\n        /* 滚动槽 */\n        &::-webkit-scrollbar-track {\n          border-radius: 10px;\n          background: rgb(224, 224, 224);\n        }\n        /* 滚动条滑块 */\n        &::-webkit-scrollbar-thumb {\n          border-radius: 10px;\n          background: rgb(189, 189, 189);\n        }\n        .list-item-box {\n          background: #fff;\n          box-sizing: border-box;\n          border-radius: 4px;\n          margin-bottom: 7px;\n          transition: 0.3s;\n          cursor: pointer;\n          overflow: hidden;\n          border: 1px solid #efefef;\n          &:hover {\n            box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.1);\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"list-item-box-inside\">\n    <!-- 状态盒子 -->\n    <div class=\"list-item-state\">\n      <!-- 性质 -->\n      <div class=\"list-item-type\" :class=\"taskData.matter_label\">\n        {{ TASK_TYPE[taskData.matter_label] }}\n      </div>\n      <!-- 等级盒子 -->\n      <div class=\"list-stars-box\">\n        <Stars\n          class=\"stars\"\n          :color=\"'rgba(0,0,0,0)'\"\n          :readOnly=\"true\"\n          :num=\"taskData.matter_grade\"\n          :size=\"14\"\n        ></Stars>\n      </div>\n      <!-- 删除编辑 -->\n      <div class=\"list-item-state-r\">\n        <p\n          class=\"iconfont icon-youliaobiji edit\"\n          title=\"编辑任务\"\n          @click=\"(openEditBox = true), (editTack = taskData)\"\n        ></p>\n        <p\n          class=\"iconfont icon-shanchu deleted\"\n          @click=\"deletedTask(taskData)\"\n          title=\"删除任务\"\n        ></p>\n      </div>\n      <!-- 状态盒子 -->\n      <div class=\"list-icon-box\">\n        <!-- 高亮对应状态 -->\n        <p\n          v-for=\"item in stateList\"\n          class=\"iconfont state\"\n          :title=\"item.text\"\n          :class=\"[item.id, { select: taskData.matter_state === item.id }]\"\n          :key=\"item\"\n          @click=\"changeState(taskData, item.id)\"\n        >\n          {{ item.icon }}\n        </p>\n      </div>\n    </div>\n    <div class=\"list-item-title\">\n      <div class=\"time-box\">\n        <p class=\"time-text\">创建：{{ taskData.matter_date }}</p>\n        <p class=\"time-text edit\" v-if=\"taskData.matter_edit_date\">\n          更新：{{ taskData.matter_edit_date }}\n        </p>\n        <!-- 展开收起 -->\n        <p\n          class=\"iconfont icon-xiangzuoshouqi open\"\n          :class=\"{ myIsOpen }\"\n          @click=\"myIsOpenChange\"\n        ></p>\n      </div>\n      <div class=\"list-item-title-text\">{{ taskData.matter_title }}</div>\n      <!-- 展开内容 -->\n      <h-transitionH>\n        <div class=\"open-content\" v-if=\"myIsOpen\">\n          <!-- pre保留文本格式 -->\n          <pre class=\"task-content\" v-if=\"taskData.matter_content\">{{\n            taskData.matter_content\n          }}</pre>\n\n          <p v-else class=\"no-content\">无任务描述</p>\n        </div>\n      </h-transitionH>\n    </div>\n    <task-edit\n      v-if=\"openEditBox\"\n      :editTack=\"editTack\"\n      @closePortability=\"closePortability\"\n    ></task-edit>\n  </div>\n</template>\n\n<script>\nimport {\n  reactive,\n  toRefs,\n  onBeforeMount,\n  onMounted,\n  watch,\n  getCurrentInstance\n} from 'vue';\nimport { TASK_TYPE, stateList } from './config.js';\nimport taskEdit from './taskEdit.vue';\nexport default {\n  props: {\n    taskData: {\n      //单个任务数据\n      type: Object\n    },\n    openAll: {\n      //全部展开状态\n      type: Boolean,\n      default: false\n    },\n    // 重置单个关闭，在改变的列表使用\n    resetOneOpen: {\n      type: Boolean\n    }\n  },\n  name: '',\n  components: { taskEdit },\n  setup(props, ctx) {\n    const { proxy } = getCurrentInstance();\n    const data = reactive({\n      TASK_TYPE,\n      stateList,\n      myIsOpen: false,\n      openEditBox: false, //打开编辑盒子\n      editTack: null //编辑对象\n    });\n    watch(\n      // 请求返回的数据\n      () => props.openAll,\n      (val) => {\n        data.myIsOpen = val;\n      },\n      { immediate: true }\n    );\n    watch(\n      // 请求返回的数据\n      () => props.resetOneOpen,\n      () => {\n        data.myIsOpen = false;\n      }\n    );\n    onBeforeMount(() => {});\n    onMounted(() => {});\n    // 关闭任务编辑弹窗\n    const closePortability = () => {\n      data.openEditBox = false;\n    };\n    // 触发父组件删除\n    const deletedTask = (task) => {\n      // 再次提示框\n      proxy\n        .h_confirm({\n          title: '提示',\n          content: '确认删除该任务 ？',\n          style: {\n            box: {\n              top: 300,\n              bgColor: '#fff',\n              width: 360,\n              padding: 10,\n              borderRadius: 4\n            },\n            content: {\n              conColor: 'red'\n            }\n          }\n        })\n        .then(() => {\n          // 触发删除\n          ctx.emit('deletedTaskList', task);\n        })\n        .catch(() => {\n          console.log('取消');\n        });\n    };\n    // 改变状态  当前任务对象，要改变的状态\n    const changeState = (current, target) => {\n      if (current.matter_state === target) return;\n      ctx.emit('changeState', [current, target]);\n      // console.log(current, target);\n    };\n    // 改变单个展开状态\n    const myIsOpenChange = () => {\n      data.myIsOpen = !data.myIsOpen;\n      ctx.emit('myIsOpenChange', [props.taskData.matter_state, data.myIsOpen]);\n    };\n    return {\n      changeState,\n      myIsOpenChange,\n      deletedTask,\n      closePortability,\n      ...toRefs(data)\n    };\n  }\n};\n</script>\n<style scoped lang=\"less\">\n.list-item-box-inside {\n  transition: 0.3s;\n  &:hover {\n    .list-item-title-text,\n    .list-icon-box .state,\n    .list-item-state-r p,\n    .list-item-title .open,\n    .list-item-title .time-text {\n      color: #000;\n    }\n    .open-content {\n      color: #777;\n    }\n  }\n}\n.list-item-state {\n  overflow: hidden;\n  .list-item-type {\n    float: left;\n    font-size: 12px;\n    background: @TC_B;\n    margin-right: 10px;\n    color: #fff;\n    line-height: 20px;\n    padding: 0 10px 0 5px;\n    border-radius: 0 0px 15px 0;\n    &.personal {\n      background: green;\n    }\n  }\n  .list-stars-box {\n    float: left;\n  }\n  .list-icon-box {\n    float: right;\n    margin-right: 50px;\n\n    .state {\n      float: left;\n      cursor: pointer;\n      margin: 0 5px;\n      line-height: 20px;\n      font-size: 14px;\n      color: #999;\n      transition: 0.3s;\n    }\n    .state:hover,\n    .state.select {\n      // font-weight: 700;\n    }\n    /* 未开始 */\n    .notStarted:hover,\n    .notStarted.select {\n      color: #ff0000;\n    }\n    // 进行中\n    .conduct:hover,\n    .conduct.select {\n      color: #00bfff;\n    }\n    // 已完成\n    .complete:hover,\n    .complete.select {\n      color: #09ff00;\n    }\n  }\n  .list-item-state-r {\n    cursor: pointer;\n    float: right;\n    p {\n      line-height: 20px;\n      margin-right: 3px;\n      float: left;\n      color: #999;\n\n      &.edit {\n        &:hover {\n          color: #00bfff;\n        }\n      }\n      &.deleted {\n        &:hover {\n          color: #ff0000;\n        }\n      }\n    }\n  }\n}\n.list-item-title {\n  margin-top: 10px;\n  padding: 0 10px;\n  line-height: 20px;\n  font-size: 14px;\n  padding-bottom: 7px;\n  .time-box {\n    overflow: hidden;\n    .time-text {\n      float: left;\n      font-size: 12px;\n      color: #999;\n      &.edit {\n        margin-left: 20px;\n      }\n    }\n    .open {\n      float: right;\n      transform: rotate(-90deg);\n      cursor: pointer;\n      transition: 0.3s;\n      font-size: 14px;\n      color: #999;\n      &.myIsOpen {\n        transform: rotate(-270deg);\n      }\n    }\n  }\n  .list-item-title-text {\n    color: #333;\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 30px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    text-align: justify;\n    letter-spacing: 1px;\n  }\n\n  .open-content {\n    color: #999;\n    text-align: justify;\n    .task-content {\n      font-family: 'serif';\n      letter-spacing: 1px;\n      white-space: pre-wrap; /* CSS-3 /\n      white-space: -moz-pre-wrap; / Mozilla, since 1999 /\n      white-space: -pre-wrap; / Opera 4-6 /\n      white-space: -o-pre-wrap; / Opera 7 /\n      Word-wrap: break-word; / Internet Explorer 5.5+ */\n    }\n  }\n  .no-content {\n    text-align: center;\n  }\n}\n</style>\n","<template>\n  <!-- 可移动元素 -->\n  <h-portabilityBox\n    :openPortability=\"true\"\n    :title=\"'任务编辑'\"\n    :top=\"'150px'\"\n    :zIndex=\"21\"\n    @closePortability=\"closePortability\"\n  >\n    <div class=\"add-task-page\">\n      <!-- 性质 -->\n      <div class=\"addtask-set-item-box\">\n        <p class=\"set-title\">性质：</p>\n        <p\n          class=\"set-choice\"\n          v-for=\"item in typeList\"\n          :key=\"item.id\"\n          :class=\"{ select: matter_label === item.id }\"\n          @click=\"matter_label = item.id\"\n        >\n          {{ item.text }}\n        </p>\n      </div>\n      <!-- 等级 -->\n      <div class=\"addtask-set-item-box\">\n        <p class=\"set-title\">等级：</p>\n        <div class=\"stars-box\">\n          <Stars\n            class=\"stars\"\n            :isCLickActive=\"true\"\n            :num=\"matter_grade\"\n            :size=\"20\"\n            @getStarsnum=\"getStarsnum\"\n          ></Stars>\n        </div>\n      </div>\n      <!-- 状态 -->\n      <div class=\"addtask-set-item-box\">\n        <p class=\"set-title\">状态：</p>\n        <span\n          v-for=\"item in stateList\"\n          class=\"state iconfont\"\n          :class=\"[item.id, { select: matter_state === item.id }]\"\n          :key=\"item.id\"\n          @click=\"prohibitTips(matter_state === item.id)\"\n          >{{ item.icon }} {{ item.text }}</span\n        >\n      </div>\n      <!-- 信息输入部分 -->\n      <div class=\"addtask-set-item-box\">\n        <input\n          v-model.trim=\"matter_title\"\n          type=\"text\"\n          placeholder=\"任务标题\"\n          class=\"todo-input\"\n          @keyup.enter=\"confirmEditing\"\n        />\n        <textarea\n          v-model.trim=\"matter_content\"\n          class=\"my-note\"\n          placeholder=\"任务描述\"\n        ></textarea>\n      </div>\n      <div class=\"addtask-set-item-box\">\n        <p\n          class=\"add-task-btn\"\n          :class=\"{ 'is-change': !isChange }\"\n          @click=\"confirmEditing\"\n        >\n          确认修改\n        </p>\n      </div>\n    </div>\n  </h-portabilityBox>\n</template>\n\n<script>\nimport {\n  reactive,\n  toRefs,\n  onBeforeMount,\n  onMounted,\n  getCurrentInstance,\n  watch\n} from 'vue';\nimport { stateList, typeList } from './config.js';\nexport default {\n  props: {\n    editTack: {\n      type: Object\n    }\n  },\n  name: '',\n  setup(props, ctx) {\n    const { proxy } = getCurrentInstance();\n    const data = reactive({\n      stateList,\n      typeList,\n      myEditTack: null, //编辑任务信息\n      isChange: false //是否编辑内容改变\n    });\n    watch(\n      // 监听目录\n      () => data.myEditTack,\n      () => {\n        // 获取编辑前和编辑后数据字符串对比，是否改变\n        const originalStr = JSON.stringify(props.editTack);\n        const editStr = JSON.stringify(data.myEditTack);\n        data.isChange = originalStr !== editStr;\n      },\n      { deep: true }\n    );\n    onBeforeMount(() => {});\n    onMounted(() => {});\n    // 获取内部可编辑信息\n    const getMyEditTack = () => {\n      // 将传递参数只拷贝第一层即可\n      const { ...editTack } = props.editTack;\n      data.myEditTack = editTack;\n    };\n    getMyEditTack();\n    // 触发父组件关闭弹窗\n    const closePortability = () => {\n      ctx.emit('closePortability');\n    };\n    // 触发等级修改\n    const getStarsnum = (val) => {\n      data.myEditTack.matter_grade = val;\n    };\n    // 状态禁止编辑提示\n    const prohibitTips = (bool) => {\n      // 点击选中当前选中状态不提示\n      if (bool) return;\n      // 点击灰色状态提示不可编辑\n      proxy.h_tips({\n        type: 'error',\n        msg: '状态不可编辑,编辑后可在任务栏切换',\n        top: 20,\n        time: 2000\n      });\n    };\n    // 确认编辑\n    const confirmEditing = () => {\n      // 判断无变化就不执行点击编辑\n      if (!data.isChange) return;\n      // 先判断有没有标题\n      if (data.myEditTack.matter_title) {\n        // 确认编辑后增加编辑时间\n        data.myEditTack.matter_edit_date = new Date().toLocaleString();\n        // 触发todoList中的编辑事件，使用mitt事件总线\n        proxy.$bus.emit('editTask', data.myEditTack);\n        closePortability();\n        proxy.h_tips({\n          type: 'success',\n          msg: ' 编辑成功',\n          top: 20,\n          time: 2000\n        });\n      } else {\n        proxy.h_tips({\n          type: 'error',\n          msg: ' 请输入任务标题',\n          top: 20,\n          time: 2000\n        });\n      }\n    };\n\n    return {\n      closePortability,\n      confirmEditing,\n      getStarsnum,\n      prohibitTips,\n      ...toRefs(data.myEditTack),\n      ...toRefs(data)\n    };\n  }\n};\n</script>\n<style scoped lang=\"less\">\n.add-task-page {\n  width: 500px;\n  height: 100%;\n  padding: 20px;\n  box-sizing: border-box;\n  border-radius: 4px;\n  .addtask-set-item-box {\n    overflow: hidden;\n    .set-title {\n      float: left;\n      color: #333;\n      font-size: 14px;\n      line-height: 30px;\n    }\n    .set-choice {\n      font-size: 14px;\n      line-height: 30px;\n      float: left;\n      margin-left: 10px;\n      cursor: pointer;\n      &.select {\n        color: #147af7;\n        font-weight: 700;\n      }\n    }\n    .stars-box {\n      float: left;\n      margin-left: 10px;\n    }\n\n    /* 状态 */\n    .state {\n      float: left;\n      cursor: pointer;\n      line-height: 32px;\n      margin: 0 10px;\n      font-size: 14px;\n      color: rgb(179, 179, 179);\n      transition: 0.3s;\n    }\n\n    .state.select {\n      font-weight: 700;\n    }\n    /* 未开始 */\n    .notStarted.select {\n      color: #ff0000;\n    }\n    .conduct.select {\n      color: #00bfff;\n    }\n    .complete.select {\n      color: #09ff00;\n    }\n    /* 输入框 */\n    .todo-input {\n      height: 40px;\n      outline: none;\n      border: 1px solid #eee;\n      padding: 0 10px;\n      border-radius: 5px;\n      box-sizing: border-box;\n      cursor: pointer;\n      width: 100%;\n      color: #000;\n      transition: 0.3s;\n      font-family: 'serif';\n      &::-webkit-input-placeholder {\n        font-size: 14px;\n        color: #c0c4cc;\n        font-family: 'serif';\n      }\n    }\n    .my-note {\n      margin-top: 10px;\n      height: 300px;\n      resize: none;\n      border: 1px solid #eee;\n      outline: none;\n      padding: 10px;\n      box-sizing: border-box;\n      color: #000;\n      width: 100%;\n      background: #fff;\n      outline: none;\n      border-radius: 5px;\n      font-family: 'serif';\n      cursor: pointer;\n      &::-webkit-input-placeholder {\n        font-size: 14px;\n        color: #c0c4cc;\n        font-family: 'serif';\n      }\n      &::-webkit-scrollbar {\n        width: 12px;\n      }\n      /* 滚动槽 */\n      &::-webkit-scrollbar-track {\n        border-radius: 10px;\n        background: rgb(224, 224, 224);\n      }\n      /* 滚动条滑块 */\n      &::-webkit-scrollbar-thumb {\n        border-radius: 10px;\n        background: rgb(189, 189, 189);\n      }\n    }\n    .add-task-btn {\n      float: right;\n      padding: 0 10px;\n      height: 30px;\n      background: #147af7;\n      border-radius: 4px;\n      text-align: center;\n      color: #fff;\n      font-size: 14px;\n      margin-top: 10px;\n      line-height: 30px;\n      transition: 0.1s;\n      &:hover {\n        cursor: pointer;\n        opacity: 0.8;\n      }\n      &.is-change {\n        background: #aaa;\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./taskEdit.vue?vue&type=template&id=445fcab3&scoped=true\"\nimport script from \"./taskEdit.vue?vue&type=script&lang=js\"\nexport * from \"./taskEdit.vue?vue&type=script&lang=js\"\n\nimport \"./taskEdit.vue?vue&type=style&index=0&id=445fcab3&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\a2_swh\\\\ProjectSourceCode\\\\PersonalBlog\\\\personal-notes-vue3\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-445fcab3\"]])\n\nexport default __exports__","import { render } from \"./taskListItem.vue?vue&type=template&id=f0c37288&scoped=true\"\nimport script from \"./taskListItem.vue?vue&type=script&lang=js\"\nexport * from \"./taskListItem.vue?vue&type=script&lang=js\"\n\nimport \"./taskListItem.vue?vue&type=style&index=0&id=f0c37288&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\a2_swh\\\\ProjectSourceCode\\\\PersonalBlog\\\\personal-notes-vue3\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f0c37288\"]])\n\nexport default __exports__","import { render } from \"./taskList.vue?vue&type=template&id=2064eb00&scoped=true\"\nimport script from \"./taskList.vue?vue&type=script&lang=js\"\nexport * from \"./taskList.vue?vue&type=script&lang=js\"\n\nimport \"./taskList.vue?vue&type=style&index=0&id=2064eb00&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\a2_swh\\\\ProjectSourceCode\\\\PersonalBlog\\\\personal-notes-vue3\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2064eb00\"]])\n\nexport default __exports__","import { render } from \"./todoList.vue?vue&type=template&id=b9c59274&scoped=true\"\nimport script from \"./todoList.vue?vue&type=script&lang=js\"\nexport * from \"./todoList.vue?vue&type=script&lang=js\"\n\nimport \"./todoList.vue?vue&type=style&index=0&id=b9c59274&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\a2_swh\\\\ProjectSourceCode\\\\PersonalBlog\\\\personal-notes-vue3\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b9c59274\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./taskList.vue?vue&type=style&index=0&id=2064eb00&scoped=true&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./taskListItem.vue?vue&type=style&index=0&id=f0c37288&scoped=true&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./addTask.vue?vue&type=style&index=0&id=00331edc&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./todoList.vue?vue&type=style&index=0&id=b9c59274&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./taskEdit.vue?vue&type=style&index=0&id=445fcab3&scoped=true&lang=less\""],"sourceRoot":""}